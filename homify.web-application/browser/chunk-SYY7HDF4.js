import{b as j,c as P,y as F}from"./chunk-G254O7HO.js";import{Ab as S,Ac as x,Bb as E,D as s,Jb as $,Kb as w,O as a,Rb as b,Sa as I,Ub as M,_ as u,da as d,ib as k,ja as m,jb as f,p as C,qb as p,rb as c,ya as h,yb as g,yc as O}from"./chunk-NEYM5HGW.js";var L=["*"],T=(o,n)=>({"background-color":o,color:n}),V=(()=>{class o{constructor(){this.backgroundColor="#f3e5f5",this.color="#000000",this.type="button",this.clicked=new h}onClick(){this.clicked.emit()}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=m({type:o,selectors:[["app-button"]],inputs:{backgroundColor:"backgroundColor",color:"color",type:"type"},outputs:{clicked:"clicked"},standalone:!0,features:[b],ngContentSelectors:L,decls:2,vars:5,consts:[[3,"click","ngStyle","type"]],template:function(e,r){e&1&&(S(),p(0,"button",0),g("click",function(){return r.onClick()}),E(1),c()),e&2&&f("ngStyle",M(2,T,r.backgroundColor,r.color))("type",r.type)},dependencies:[x,O],styles:["button[_ngcontent-%COMP%]{background-color:#fdfdfd;color:#000;border:1px solid gray;border-radius:5px;padding:5px;font-size:16px;cursor:pointer;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}button[_ngcontent-%COMP%]:active{transform:scale(.95)}button[_ngcontent-%COMP%]:disabled{background-color:#bdc3c7;cursor:not-allowed;opacity:.7}"]})}}return o})();var Z=(()=>{class o{constructor(){this.label=null,this.placeholder="",this.type="text",this.value="",this.maxLength=null,this.valueChange=new h}onValueChange(t){this.valueChange.emit(t.target.value)}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=m({type:o,selectors:[["app-input"]],inputs:{label:"label",placeholder:"placeholder",type:"type",value:"value",maxLength:"maxLength"},outputs:{valueChange:"valueChange"},standalone:!0,features:[b],decls:4,vars:5,consts:[[1,"input-container"],[1,"input-label"],[1,"input-field",3,"input","placeholder","type","value"]],template:function(e,r){e&1&&(p(0,"div",0)(1,"label",1),$(2),c(),p(3,"input",2),g("input",function(l){return r.onValueChange(l)}),c()()),e&2&&(I(2),w(r.label),I(),f("placeholder",r.placeholder)("type",r.type)("value",r.value),k("maxLength",r.maxLength!==null?r.maxLength:null))},dependencies:[F],styles:[".input-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin:5px 0;gap:1em}.input-label[_ngcontent-%COMP%]{margin-bottom:5px;font-size:14px;color:#333;width:70px}.input-field[_ngcontent-%COMP%]{padding:7px;font-size:14px;border:1px solid #ccc;border-radius:4px;transition:border-color .3s,box-shadow .3s;outline:none}.input-field[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 5px #007bff40}"]})}}return o})();var y={homifyApi:"http://localhost:5003"};var v=class{get headers(){return{headers:new j({accept:"application/json",Authorization:localStorage.getItem("token")??""})}}constructor(n,t,e){this._apiOrigin=n,this._endpoint=t,this._http=e,this.fullEndpoint=`${this._apiOrigin}/${this._endpoint}`}get(n="",t=""){return t=t?`?${t}`:"",n=n?`/${n}`:"",this._http.get(`${this.fullEndpoint}${n}${t}`,this.headers).pipe(a(3),s(this.handleError))}post(n,t=""){return t=t?`/${t}`:"",this._http.post(`${this.fullEndpoint}${t}`,n,this.headers).pipe(a(3),s(this.handleError))}putById(n,t=null,e=""){return e=e?`/${e}`:"",this._http.put(`${this.fullEndpoint}/${n}${e}`,t,this.headers).pipe(a(3),s(this.handleError))}delete(n="",t=""){return t=t?`?${t}`:"",n=n?`/${n}`:"",this._http.delete(`${this.fullEndpoint}${n}${t}`,this.headers).pipe(a(3),s(this.handleError))}handleError(n){return n.error instanceof ErrorEvent?(console.error("An error occurred:",n.error.message),C(n.error)):(console.error(`Backend returned code ${n.status}, body was: ${n.error}`),C(n))}};var A=(()=>{class o extends v{constructor(t){super(y.homifyApi,"sessions",t)}login(t,e){return this._http.post(`${y.homifyApi}/${this._endpoint}`,{Email:t,Password:e}).pipe(s(this.handleError))}register(t,e,r,i,l){return this._http.post(`${y.homifyApi}/homeowners`,{email:t,password:e,name:r,lastName:i,profilePicUrl:l}).pipe(s(this.handleError))}static{this.\u0275fac=function(e){return new(e||o)(d(P))}}static{this.\u0275prov=u({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var lt=(()=>{class o{constructor(t){this.sessionRepository=t}setCurrentUser(t,e,r,i){localStorage.setItem("token",t??""),localStorage.setItem("roles",JSON.stringify(e)??"[]"),localStorage.setItem("name",r??""),localStorage.setItem("userId",i??"")}getCurrentUser(){let t=localStorage.getItem("token")??null,e=localStorage.getItem("name")??"",r=localStorage.getItem("userId")??"",i=JSON.parse(localStorage.getItem("roles")??"[]");return{token:t,roles:i,name:e,userId:r}}removeCurrentUserToken(){localStorage.removeItem("token"),localStorage.removeItem("roles"),localStorage.removeItem("name"),localStorage.removeItem("userId")}login(t,e){return this.sessionRepository.login(t,e)}register(t,e,r,i,l){return this.sessionRepository.register(t,e,r,i,l)}static{this.\u0275fac=function(e){return new(e||o)(d(A))}}static{this.\u0275prov=u({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{V as a,Z as b,v as c,y as d,lt as e};
