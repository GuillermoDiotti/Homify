import{a as T}from"./chunk-7KLWIFCO.js";import{a as k}from"./chunk-BXKUOTM4.js";import"./chunk-QYMZVT5J.js";import{a as x,b as E}from"./chunk-N3TGZAGV.js";import{a as F,b as P}from"./chunk-SYY7HDF4.js";import{m as b}from"./chunk-G254O7HO.js";import{$ as f,Ac as y,Cb as M,Jb as n,Kb as D,Rb as S,Sa as m,Ta as v,ja as a,jb as u,ka as g,nb as I,ob as C,pb as _,qb as s,rb as i,sb as c,yb as p}from"./chunk-NEYM5HGW.js";function B(t,j){if(t&1&&(s(0,"option",4),n(1),i()),t&2){let e=j.$implicit;M("value",e),m(),D(e)}}var l=(()=>{class t{constructor(e){this.ImportService=e,this.successMessage="",this.errorMessage="",this.importPath="",this.importers=[],this.selectedImporter=""}ngOnInit(){this.successMessage="",this.errorMessage="",this.ImportService.getImporters().subscribe(e=>{this.importers=e,this.selectedImporter=e[0]},e=>this.errorMessage=e.error.message)}handleRefreshImporters(){this.successMessage="",this.errorMessage="",this.ImportService.getImporters().subscribe(e=>this.importers=e,e=>this.errorMessage=e.error.message)}handleSubmit(){this.successMessage="",this.errorMessage="";let e={importerSelected:this.selectedImporter,filePath:this.importPath};this.ImportService.addImportedDevices(e).subscribe(r=>{this.successMessage="Devices added successfully"},r=>{this.errorMessage=r.error.message})}onImporterChange(e){let r=e.target;this.selectedImporter=r.value}onPathChange(e){this.importPath=e.target.value}static{this.\u0275fac=function(r){return new(r||t)(v(T))}}static{this.\u0275cmp=a({type:t,selectors:[["app-import-devices-form"]],standalone:!0,features:[S],decls:17,vars:2,consts:[[2,"display","flex","flex-direction","column","align-items","start"],[2,"display","flex","flex-direction","row","align-items","center","gap","5"],["for","importer"],["id","importer","name","importer",3,"change"],[3,"value"],[3,"click"],["name","filePath","type","text","label","File Path","placeholder","Path",3,"change"],[3,"message"]],template:function(r,o){r&1&&(s(0,"h2"),n(1,"Import devices"),i(),s(2,"div",0)(3,"div",1)(4,"div")(5,"label",2),n(6,"Importer"),i(),s(7,"select",3),p("change",function(h){return o.onImporterChange(h)}),C(8,B,2,2,"option",4,I),i()(),s(10,"app-button",5),p("click",function(){return o.handleRefreshImporters()}),n(11,"Refresh importers"),i()(),s(12,"app-input",6),p("change",function(h){return o.onPathChange(h)}),i(),s(13,"app-button",5),p("click",function(){return o.handleSubmit()}),n(14,"Submit"),i(),c(15,"app-success-message",7)(16,"app-error-message",7),i()),r&2&&(m(8),_(o.importers),m(7),u("message",o.successMessage),m(),u("message",o.errorMessage))},dependencies:[x,E,F,P]})}}return t})();var R=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=a({type:t,selectors:[["app-import-devices-page"]],decls:1,vars:0,template:function(r,o){r&1&&c(0,"app-import-devices-form")},dependencies:[l]})}}return t})();var O=[{path:"",component:R,canActivate:[k]}],V=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=g({type:t})}static{this.\u0275inj=f({imports:[y,b.forChild(O),l]})}}return t})();export{V as ImportPageModule};
